<view><view class="topic-detail"><block wx:if="{{detail}}"><view class="article-info"><text class="title">{{detail.title.rendered}}</text><view class="article-info__category"><view class="cuIcon-form icons _i"></view><text class="category">{{detail.category[0].name}}</text><view class="cuIcon-time icons _i"></view><text class="time">{{detail.date}}</text></view></view></block><block wx:else><view class="article-info"><view class="title" style="width:420rpx;height:40rpx;background:#f3f3f3;"></view><view class="article-info__category"><image class="avator" style="background:#f3f3f3;"></image><text class="category" style="width:100rpx;height:40rpx;background:#f3f3f3;"></text><view class="_i"></view><text class="time" style="width:100rpx;height:40rpx;background:#f3f3f3;"></text></view></view></block><block wx:if="{{detail}}"><view class="entry-content clearfix" id="entry-content"><jyf-parser class="vue-ref" vue-id="3db16520-1" html="{{detail.content.rendered}}" tag-style="{{tagStyle}}" data-ref="article" bind:__l="__l"></jyf-parser></view></block><block wx:else><view class="entry-content clearfix" id="entry-content"><view style="padding-top:20rpx;" wx:for="article" wx:key="index"><view style="width:690rpx;height:40rpx;background:#f3f3f3;"></view><view style="width:690rpx;height:250rpx;background:#f3f3f3;margin-top:20rpx;"></view></view></view></block><view class="topic-title-wrapper" id="comment"><view class="topic-title">话题讨论</view><view class="onlooker-amount relative"><text>邀请好友参与讨论</text><text class="onlooker-arrow">>></text><button class="userLogin" open-type="share"></button></view></view><view class="commentdata"><block wx:if="{{comments.length==0}}"><view class="listnodata"><image class="nodataimg" lazyLoad="false" mode="aspectFit|aspectFill|widthFix" src="/static/images/message.png"></image><view class="nodatatext">还没有评论，快来抢沙发吧！</view></view></block><block wx:else><view class="comment-reply"><block wx:for="{{comments}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['replyComment',['$0','$1'],[[['comments','',index,'id']],[['comments','',index,'author.name']]]]]]]}}" class="comment-reply-item" bindtap="__e"><view class="comment-header"><view class="comment-header-left"><image class="comment-avatar" src="{{item.author.avatar}}"></image><view class="comment-user-date"><text>{{item.author.name}}</text><text>{{item.date}}</text></view></view><view class="comment-header-right"><text></text></view></view><view class="comment-content"><text data-event-opts="{{[['tap',[['replay',['$event']]]]]}}" bindtap="__e"></text>{{''+item.content+''}}</view><block wx:for="{{item.reply}}" wx:for-item="item1" wx:for-index="idx" wx:key="idx"><view class="replay-content"><view data-event-opts="{{[['tap',[['replyComment',['$0','$1'],[[['comments','',index],['reply','',idx,'id']],[['comments','',index],['reply','',idx,'author.name']]]]]]]}}" class="replay-user" bindtap="__e"><text style="font-weight:bold;">{{''+item1.author.name+''}}</text>{{":"+item1.content+''}}</view><block wx:for="{{item1.reply}}" wx:for-item="item2" wx:for-index="idx2" wx:key="idx2"><view><view data-event-opts="{{[['tap',[['replyComment',['$0','$1'],[[['comments','',index],['reply','',idx,'id']],[['comments','',index,'author.name']]]]]]]}}" class="replay-user" bindtap="__e"><text style="font-weight:bold;">{{''+item2.author.name+''}}</text>{{'回复\n\t\t\t\t\t\t\t\t'+item1.author.name+":"+item2.content+''}}</view><block wx:for="{{item2.reply}}" wx:for-item="item3" wx:for-index="idx3" wx:key="*this"><view><view data-event-opts="{{[['tap',[['replyComment',['$0','$1'],[[['comments','',index],['reply','',idx],['reply','',idx2],['reply','idx2',idx2,'id']],[['comments','',index],['reply','',idx],['reply','',idx2],['reply','idx2',idx2,'author.name']]]]]]]}}" class="replay-user" bindtap="__e"><text style="font-weight:bold;">{{''+item3.author.name+''}}</text>{{'回复\n\t\t\t\t\t\t\t\t\t'+item2.author.name+":"+item3.content+''}}</view><block wx:for="{{item3.reply}}" wx:for-item="item4" wx:for-index="idx4" wx:key="idx4"><view><view class="replay-user"><text style="font-weight:bold;">{{''+item4.author.name+''}}</text>{{'回复\n\t\t\t\t\t\t\t\t\t\t'+item3.author.name+":"+item4.content+''}}</view></view></block></view></block></view></block></view></block><view class="comment-footer"><view style="height:1px;background:#f1f1f1;margin-right:20rpx;"></view></view></view></block></view></block></view></view><view class="bottom"><block wx:if="{{!showTextarea}}"><form catchsubmit="formSubmit" report-submit="true"><view class="{{['bottom-bar',isIphoneX?'bottom-bar-iphonex':'']}}"><image class="bottom-btn bottom-back" src="/static/images/back.png" data-event-opts="{{[['tap',[['bindBack',['$event']]]]]}}" bindtap="__e"></image><view class="bottom-btn bottom-text relative" style="width:260rpx;"><text>{{placeholder}}</text><button data-event-opts="{{[['tap',[['tapcomment',['$event']]]]]}}" class="userLogin" bindtap="__e"></button></view><view class="bottom-btn bottom-comment-container relative"><image class="bottom-comment" src="{{detail.isfav?$root.m0:$root.m1}}"></image><block wx:if="{{user==''}}"><button data-event-opts="{{[['tap',[['getProfile',['$event']]]]]}}" class="userLogin" bindtap="__e"></button></block><block wx:else><button data-event-opts="{{[['tap',[['bindFavTap',['$event']]]]]}}" class="userLogin" bindtap="__e"></button></block></view><view class="bottom-btn bottom-comment-container"><image class="bottom-btn bottom-fav" src="{{detail.islike?$root.m2:$root.m3}}"></image><block wx:if="{{user==''}}"><button data-event-opts="{{[['tap',[['getProfile',['$event']]]]]}}" class="userLogin" bindtap="__e"></button></block><block wx:else><button data-event-opts="{{[['tap',[['bindLikeTap',['$event']]]]]}}" class="userLogin" bindtap="__e"></button></block></view><button class="bottom-btn bottom-share bottom-fav btn-clear-style" plain="true" open-type="share"><image src="/static/images/share.png"></image></button></view></form></block></view><block wx:if="{{showTextarea}}"><view class="textareacontent" capture-catch:touchmove="{{true}}"><form catchsubmit="addComment"><view class="textheaders"><view data-event-opts="{{[['tap',[['closeCommentary',['$event']]]]]}}" class="cancel" bindtap="__e">取消</view><block wx:if="{{user==''}}"><button data-event-opts="{{[['tap',[['getProfile',['$event']]]]]}}" class="nopublish" bindtap="__e">登录</button></block><block wx:else><button data-event-opts="{{[['tap',[['addComment',['$event']]]]]}}" class="publish" bindtap="__e">发布</button></block></view><block wx:if="{{showTextarea}}"><view class="textareaBox"><textarea class="textareaInput" style="height:286rpx;" autoFocus="true" name="inputComment" fixed="{{true}}" focus="{{focus}}" maxlength="1000" placeholder="{{placeholder}}" showConfirmBar="{{false}}" data-event-opts="{{[['input',[['bindInputContent',['$event']]]]]}}" value="{{content}}" bindinput="__e"></textarea><view class="textNum">{{textNum+"/1000"}}</view></view></block></form></view></block><block wx:if="{{showTextarea}}"><view data-event-opts="{{[['tap',[['closeCommentary',['$event']]]]]}}" class="pagemake" bindtap="__e"></view></block></view>